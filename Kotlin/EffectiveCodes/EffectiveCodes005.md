# EffectiveCodes
## 2023-04-21 Fri
### 코틀린으로 객체를 생성하기
* 코틀린은 순수 FP로 애플리케이션을 작성할 수도 있으나, Java와 같이 OOP 스타일로도 얼마든지 작성할 수 있다.
* **OOP는 객체를 생성하여 사용하므로 객체를 생성하는 방법을 정의할 수 있으며, 객체의 방식에 따라 각자 다른 특징**을 갖는다.
  * 그러나 **정적 팩토리 메소드를 권장하는 Java와 달리, 코틀린에서는 정적 메소드를 사용할 수 없으므로 톱레벨 함수와 companion 객체 등을 활용**한다.

### 객체 생성 패턴 - 팩토리 함수의 특징
* **디자인 패턴으로 굉장히 다양한 객체 생성 패턴이 제안되어 있으며, 일반적으로 이러한 패턴은 생성자가 아닌 별도의 함수를 사용**한다.
  * 이 때, 생성자의 역할을 대리하는 함수를 팩토리 함수로 지칭한다.
* 팩토리 함수를 사용할 경우, 다음과 같은 이점을 얻을 수 있다.
  1. 생성자와 달리, 함수에 적절한 이름을 붙여 가독성을 높일 수 있다.
  2. 생성자와 달리 함수가 원하는 형태의 타입을 반환할 수 있으며, 나아가 아직 존재하지 않는 객체까지도 반환할 수도 있다.
  3. 생성자와 달리 호출 시마다 새로운 객체를 생성할 필요가 없으며, 최적화를 위해 캐싱 메커니즘을 적용하거나 싱글톤 패턴을 활용할 수 있다.
  4. **객체 외부에 팩토리 함수를 정의하는 것으로 가시성을 자유로이 제어**할 수 있다.
  5. 생성자로는 생성하기 복잡한 객체도 손쉽게 만들어낼 수 있다.
* 이렇듯 **팩토리 함수는 강력한 객체 생성 방법 중 하나인 반면, 기본 생성자를 완전히 대체하기보다는 오히려 경쟁 관계**에 있다.
  * 또한, 팩토리 함수와 경쟁 관계를 갖는 또 다른 함수들로는 companion 객체의 함수 또는 확장 팩토리 함수와 톱레벨 팩토리 함수 등이 있다.