# DesignPatterns
## 2022-05-19 Thu

## 콜백과 이벤트
* 일반적인 개발자들은 동기식 프로그래밍에서, 특정한 문제를 해결하기 위해 일련의 연속 작업 형태를 띄는 코드를 작성하는 데에 익숙하다.
  * 동기식 프로그래밍의 모든 작업은 블로킹이며, 현재 작업이 종료된 후에야 다음 작업을 실행할 수 있다.
* 반면, 비동기식 프로그래밍에서는 IO와 같은 일부 작업을 백그라운드에서 실행할 수 있다.
* 비동기 작업이 호출되면 이전 작업이 완전히 종료되지 않은 상황에서도 다음 작업이 즉시 실행된다.
  * 때문에 작업의 결과를 전달 받아 다음의 작업을 이어나가기 위한 어떠한 메커니즘이 필요하게 된다.
* **Node.js에서 비동기 작업의 완료를 통지받는 가장 기본적인 메커니즘은 콜백**이다.
  * 콜백은 단지 비동기 작업의 결과를 갖고 런타임에 호출되는 함수에 불과하다.
* **콜백은 다른 모든 비동기 메커니즘의 가장 근간을 이루므로, 콜백 없이는 프로미스와 async / await가 존재할 수 없다**.

### 콜백 패턴
* 콜백은 리액터 패턴에서 다루었던 핸들러를 구현한 것이며, Node.js의 독특한 개발 스타일을 제공하는 상징 중 하나이다.
* **콜백은 정확히 작업의 결과를 전달하기 위해 호출하는 함수로, 비동기 작업을 처리하기 위해 반드시 필요**하다.
  * **비동기의 세계에서, 콜백은 동기적인 작업을 위한 return 구문을 대신**한다.
* JS는 크게 다음과 같은 이유에서 콜백에 이상적인 언어이다.
  1. 일급 함수: 함수를 변수에 할당하거나, 인자로 전달하거나, 다른 함수에 의해 반환하거나, 자료 구조에 저장할 수 있다.
  2. 클로저: 실제로 생성된 함수의 환경을 언제든지 참조할 수 있게 한다. 
     * 즉, **콜백이 언제 어디에서 호출되었는지와 관계 없이 비동기 작업이 요청되었던 컨텍스트를 항상 유지**할 수 있다.