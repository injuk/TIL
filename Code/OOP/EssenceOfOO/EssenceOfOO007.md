# EssenceOfObject-Orientation
## 2022-12-30 Fri

### 객체지향 설계와 관련된 세 관점
* 객체지향 설계 안에는 다음과 같은 세 가지 상호 연관된 관점이 존재한다고 볼 수 있다.
  1. 개념 관점: **사용자가 도메인을 바라보는 관점을 반영하며, 때문에 실제 도메인의 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심**이다.
  2. 명세 관점: **개발자의 영역으로서 도메인이 아닌 소프트웨어 안에서 살아있는 객체들의 책임에 초점을 맞춘다**.
  3. 구현 관점: **개발자에게 가장 익숙한 관점이며, 객체의 책임을 어떻게 수행할지에 초점을 맞춘다**.
* 특히 **명세 관점의 경우, 개발자는 객체가 협력을 위해 무엇을 할 수 있는지에 초점을 맞추며 인터페이스와 구현을 분리**하게 된다.
  * 때문에 구현이 아닌 인터페이스에 대해 프로그래밍하라는 원칙은 우선 명세 관점과 구현 관점을 명확히 분리하는 데에서 시작한다.
* 구현 관점의 경우, 객체들이 책임을 수행하기 위해 필요한 동작하는 코드를 작성하며 인터페이스 구현을 위해 필요한 메소드를 클래스에 추가하게 된다.
* 이 때, **세 관점은 순차대로 진행되는 것은 전혀 아니며 오히려 동일한 클래스를 서로 다른 세 가지 관점으로부터 바라본다는 점을 의미**한다.
  * 이렇듯 클래스는 세 관점을 통해 설계와 관련된 다양한 측면을 드러낼 수 있다.
  * 예를 들어 **클래스 자체가 은유하는 개념은 도메인 관점을 반영하는 반면, 공용 인터페이스는 명세 관점을 반영하고 속성과 메소드가 구현 관점을 반영**한다.
* **이상적인 것은 클래스가 세 관점을 모두 수용할 수 있도록 개념과 인터페이스 및 구현을 함께 드러내는 데에 있다**.
  * 또한, **이와 동시에 코드 상에서는 세 관점이 쉽게 식별되도록 깔끔하게 분리되는 것이 바람직**하다.

### 명세 관점으로 객체를 바라보기
* 앞서 다룬 바와 같이, 역할과 책임 및 협력을 활용한 객체 인터페이스의 식별은 크게 다음과 같은 흐름으로 진행된다.
  1. 우선 협력에 참여할 객체가 수신해야만 할 메시지를 결정한다.
  2. 이러한 과정에서 **메시지들이 모여 객체의 인터페이스를 구성**한다.
  3. 결과적으로 메시지를 결정한 후에 이를 처리할 객체를 선택하게 된다.
* 나아가 **이러한 관점은 객체의 인터페이스, 즉 명세 관점에서 객체를 바라보는 데에 중점을 두는 것**과 같다.

### 도메인 분석하기
* 개발을 진행하기에 앞서, 우선 도메인을 구성하는 요소들을 분류하는 것은 큰 도움이 될 수 있다.
  * 이 때, 객체지향 패러다임의 주요한 도구는 객체이므로 우선 해당 도메인의 개념들을 객체들로 구성된 세상으로 바라보게 된다.
* 분류된 각 객체는 다른 객체와의 사이에서 크게 다음과 같은 관계를 가질 수 있다.
  1. 합성 관계: **임의의 객체가 다른 객체를 포함하여 하나의 단위로 취급되는 경우, 포함 관계 또는 합성 관계라고 지칭**한다.
  2. 연관 관계: **두 객체가 서로의 존재를 알고 있지만 서로를 포함하지 않는 관계를 의미**한다.
* 이 때, 합성 관계는 머리가 속이 꽉 찬 마름모로 표현된 실선으로 표현되는 반면 연관 관계는 일반적인 실선으로 표시된다.
  * 각 객체와 객체 간의 관계를 이러한 방식으로 표현할 경우, 객체들의 관계를 추상화하는 일종의 모델을 작성할 수 있다.
  * 이렇듯 **소프트웨어가 사용되는 영역인 도메인을 단순화하여 표현한 모델을 도메인 모델이라고 지칭**할 수 있다.
* 그러나 실제로는 도메인 모델을 작성하는 시점에서 반드시 모든 관계를 합성 또는 연관 관계로 분류할 필요는 없다.
  * 오히려 **핵심은 어떤 타입들이 도메인을 구성하고, 타입 간에 어떠한 관계가 존재하는지 파악하여 도메인을 이해하는 데에 있다**.
* 상술한 과정을 통해 도메인을 단순화하여 이해하는 데에 성공했다면, 협력하는 자율적인 객체들의 공동체를 창조하기 위해 협력을 설계하게 된다.
  * 이 때, 협력하는 객체들의 공동체를 만드는 과정에서는 적절한 객체에게 적절한 책임을 할당하는 것에 초점을 맞추게 된다.