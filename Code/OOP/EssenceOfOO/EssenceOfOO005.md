# EssenceOfObject-Orientation
## 2022-12-20 Tue

### 책임과 자율적인 객체
```
> 훌륭한 객체지향의 세계는 명확하게 정의된 역할과 책임을 지닌 객체들이 상호 협력하는 세계이다.
```
* **객체지향 애플리케이션 속의 공동체를 구성하는 기본적인 단위는 `자율적인 객체`**이다.
  * 이러한 객체들은 애플리케이션의 기능 구현을 위해 협력하고, 협력 과정에서 각자의 책임을 다하기 위해 자율적으로 판단하고 행동해야 한다.
* 이 때, **중요한 것은 자율성으로 자율적인 객체는 스스로 정한 원칙에 따라 판단하고 스스로의 의지를 기반으로 행동**한다.
* 앞서 다룬 바와 같이, **객체가 어떠한 행동을 시작하는 유일한 이유는 다른 객체로부터 요청을 수신한 경우뿐**이다.
  * 이렇듯 **다른 객체로부터의 요청을 처리하기 위해 각각의 객체가 수행하는 행동은 책임이라고 지칭**할 수 있다.
  * 즉, **자율적인 객체는 스스로의 의지와 판단에 따라 자신이 맡은 바 책임을 수행하는 객체를 의미**한다.
* 객체지향 애플리케이션의 설계 과정에서, 아름다움은 다음과 같이 적절한 책임을 올바른 객체에게 할당하는 과정에서 나타난다.
  1. 임의의 객체에게 협력에 참여하기 위해 필수적인 적절한 책임을 할당한다.
  2. 이렇게 **할당된 적절한 책임은 객체를 자율적인 객체로 발돋움**할 수 있도록 돕는다.
  3. 결과적으로, 이러한 **자율적인 객체들이 모여 유연하고 단순화된 협력**을 낳게 된다.
* 상술한 내용을 토대로, **애플리케이션의 품질은 협력에 참여하는 객체의 자율성에 따라 결정되는 것을 이해**할 수 있다.

### 자율적인 책임
```
> 객체가 책임을 자율적으로 수행하기 위해서는 우선 객체에게 할당된 책임 자체가 자율적이어야 한다.
```
* 임의의 객체가 다른 객체에게 무언가를 요청하는 경우, 요청 자체가 책임을 암시하므로 수신 객체는 책임을 지게 된다.
* 이 때, 요청자 객체의 요청은 다음과 같이 분류될 수 있다.
  1. 추상적인 요청: **요청에 응답할 수만 있으면 세부 사항을 신경쓰지 않으며, 결과를 얻을 수만 있다면 나머지는 수신 객체의 의지와 판단**에 맡긴다.
  2. 구체적인 요청: **수신 객체가 요청에 응답하는 절차를 세세하게 지시하므로, 수신 객체는 요청 객체에게 의존**하게 된다.
* 이렇듯 **지나치게 구체적인 요청은 비록 협력의 결과는 도출할 수 있을지 몰라도 수신 객체의 자유를 지나치게 제한하게 된다는 단점이 존재**한다.
  * 반면, **추상적인 요청은 수신 객체가 요청을 처리하는 과정에서 무한에 가까운 자유를 보장**한다.
* **요청으로 암시되는 책임은 그 자체로 수신 객체의 자율성을 충분히 보장할 수 있을 정도로 포괄적이면서도 추상적인 것이 바람직**하다.
  * 예를 들어, 이러한 **요청은 수신 객체가 해야할 일을 명확히 지시하면서도 그 세부 사항에는 자율성을 보장할 수 있어야 한다**.
* **이상적인 객체지향 세계는 자율적인 객체들의 공동체로 구성되며, 자율적인 객체를 만들기 위해 객체에게 할당되는 책임의 수준 역시 자율적인 것이 바람직**하다.
* 또한, **자율적인 책임은 수신 객체가 요청을 어떻게 처리하는 지가 아닌 무엇을 해야하는지 설명**한다.

### 과도하게 추상적인 책임
* **포괄적이고 추상적인 책임이 항상 좋은 것은 아니며, 오히려 책임은 협력의 의도를 명확하게 표현할 수 있는 것이 전제**되어야 한다.
* 구체적인 책임에 비해 추상적이고 포괄적인 책임은 협력을 다양한 환경에서 재사용할 수 있도록 유연성을 부여한다.
  * 그러나 **책임은 객체가 협력에 참여하는 의도를 명확히 설명할 수 있는 수준에서 추상적일 수 있어야 한다**.
  * 즉, **좋은 책임은 수신 객체의 자율성을 보장할 수 있을 정도로 추상적이면서도 협력의 의도를 뚜렷하게 표현할 수 있을 정도로 구체적**이어야 한다.
* **어떤 책임이 가장 적절한가는 설계 중인 협력에 따라 달라질 수 있으며**, 이러한 모호함은 객체지향 애플리케이션의 설계를 난해하면서도 매력적으로 만든다.
  * 이러한 모호함을 해결하기 위해서는 성급한 일반화의 오류를 지양하고, 현재 문맥에 가장 적절한 책임을 선택하는 안목을 기를 수 있어야 한다.

### 책임과 메시지의 관계
* **책임이라는 말 속에는 어떠한 행동을 수행한다는 의미가 포함**된다.
  * 반면, **객체지향의 세계에서 객체는 반드시 어떠한 요청을 수신하는 경우에만 행동을 시작**할 수 있다.
  * 또한, **객체가 다른 객체에게 접근할 수 있는 유일한 방법은 메시지를 전송하는 것 뿐**이다. 
* 상술한 내용을 토대로, 객체가 자신에게 할당된 책임을 수행하도록 유발하는 것은 오로지 외부에서부터 전달되는 요청인 메시지가 된다.
  * 이렇듯 **메시지는 객체로 하여금 책임, 즉 행동을 수행하도록 요청하는 유일한 방법에 해당**한다.

### 메시지란?
```
> 메시지 송신자는 메시지를 통해서만 다른 객체의 책임을 요청할 수 있고, 수신자는 메시지 수신을 통해서만 자신의 책임을 수행할 수 있다.
```
* 하나의 객체는 메시지를 전송하는 것으로 다른 객체와 협력할 수 있으며, 이렇듯 객체의 행동을 유발하는 행위를 메시지 전송이라고 지칭한다.
* 이 때, 메시지는 다음과 같은 구성 요소로 이루어진다.
  1. 메시지 이름: `이동하라`와 같이, 메시지 자체를 가리킨다.
  2. 메시지 인자: 메시지를 전송할 때 추가적인 정보를 인자의 형태로 제공할 수 있으며, 수신자는 메시지를 처리하기 위해 인자를 사용할 수 있다.
* **메시지를 수신하는 수신자까지 포함할 경우, 메시지 전송은 결국 수신자와 메시지의 조합**이 된다.
  * 이러한 **수신자와 메시지 이름, 그리고 인자를 `객체.이동하라(마당)`과 같이 나열할 경우 메시지 전송**이 된다.
  * 물론 **메시지 전송의 형태는 사용하는 언어에 따라 달라질 수 있으나, 중요한 것은 메시지 전송이 수신자와 메시지 이름 및 인자로 구성된다는 사실**이다.
* **메시지를 수신하는 객체는 우선 자신이 해당 메시지를 처리할 수 있는지 확인하며, 메시지를 처리할 수 있다는 것은 곧 행동을 수행할 책임과 연결**된다.
  * 즉, 어떤 객체가 임의의 메시지를 처리할 수 있다면 해당 객체는 그 메시지에 걸맞는 행동을 수행할 책임이 있다.
  * 이렇듯 **근본적으로 메시지의 개념은 책임의 개념과 직접적으로 연결되며, 객체가 수신할 수 있는 메시지의 형태는 객체가 수행할 책임의 형태를 결정**한다.
* 이렇듯 메시지는 객체들이 협력하기 위해 사용할 수 있는 유일한 의사소통 수단이며, 메시지를 수신한다는 것은 곧 객체가 해당 책임을 수행할 수 있음을 의미한다.
  * 이 때, 객체는 메시지를 처리하는 방법을 자율적으로 선택할 수 있다.

### 메시지를 활용한 객체의 외부 및 내부 분리
* 객체가 메시지의 형태를 변경하지 않는 경우, 책임을 수행하는 방법을 변경하더라도 메시지 송신자는 이를 알 수 없다.
  * 이는 **즉 객체의 외부와 내부는 메시지를 기준으로 분리된다는 것을 암시**한다.
  * **객체가 제공하는 메시지는 외부의 다른 객체가 볼 수 있는 공적인 영역인 반면, 객체가 메시지 처리를 위해 책임을 수행하는 방법은 사적인 영역**에 속한다.
* 이렇듯 **어떤 객체에 대해 외부의 객체는 오로지 공적으로 공개된 메시지만 확인할 수 있는 반면, 내부 영역은 볼 수 없으므로 객체의 외부와 내부는 분리**된다. 