# EssenceOfObject-Orientation
## 2022-12-16 Fri

### 문맥에 따라 달라지는 사람의 특징
* 사람은 본질적으로 이기적이고 합리적인 존재이다.
* 반면, **타인과 관계를 맺는 과정에서 인간은 자신의 특성을 배제하고 이익을 최소화하는 불합리한 선택을 내릴 수 있다**.
  * 즉, **인간의 행동을 결정하는 것은 사람의 본질이 아닌 어떤 상황에 처해 있느냐가 된다**.
* **인간의 행동 방식은 개개인이 처한 환경에 따라 달라지며, 특히 행동을 결정하는 문맥은 타인과의 협력**이 된다.
  * 이러한 이유에서 개인의 반응을 독립적으로 예상하거나 관찰하는 것은 의미가 없다.
  * 대신, **사람이 협력에 얼마나 적절한지에 따라 행동의 적합성이 결정되므로 곧 협력이라는 문맥이 사람의 행동 방식을 결정**하게 된다.

### 객체의 문맥과 협력
```
> 사람과 마찬가지로, 객체 역시 협력이라는 문맥이 객체 별 행동 방식을 결정한다.
```
* 객체지향 초보자들이 **흔히 범하는 실수 중 하나는 협력이라는 문맥을 전혀 고려하지 않은 채 객체의 상태 또는 행동을 고민하는 것**이다.
* 그러나 **중요한 것은 개개의 객체가 아닌 객체들 사이에서 발생하는 협력이며, 협력의 품질은 곧 객체지향 설계의 전체적인 품질을 결정**한다.
  * 때문에 좋은 객체지향 개발자는 객체 간의 요청과 응답에서 기인하는 협력에 초점을 두어 애플리케이션을 설계한다.
* 다시 말해 **좋은 객체지향 설계란, 오만하고 다재다능한 하나의 객체를 창조하는 것이 아닌 적극적으로 협력하는 객체를 만드는 데에 있다**.
  * 반면, 이 과정에서 만들어진 협력적인 객체는 따로 떼어둔 채로 봤을 때 기묘하거나 비합리적일 수도 있다.
* **협력이 적절히 자리를 잡으면 객체의 행동은 자연스레 드러나고, 이로 인해 객체의 적절한 상태 역시 결정**될 수 있다.
  * 이렇듯 객체의 생김새를 결정하는 것은 그 객체가 참여하는 협력이다.
  * 이렇듯 **객체가 어떠한 협력에 참여하는지가 객체에 필요한 행동을 결정하고, 필요한 행동은 다시 객체의 상태를 결정**한다.
* 결론적으로, **객체지향 개발자는 개별 객체의 행동이나 상태에 앞서 객체들 간의 협력에 집중하는 것이 바람직**하다.

## 2022-12-17 Sat
### 협력이란?
```
> 협력의 본질은 요청과 응답으로 연결되는 객체들의 네트워크이다.
```
* 협력은 한 사람이 또 다른 사람에게 도움을 요청할 때 시작되며, 자신이 혼자 해결하기 어려운 문제는 이를 잘 아는 다른 사람의 도움으로 해결할 수 있다.
  * 또한, 도움을 주는 사람 역시 같은 방식으로 누군가에게 도움을 요청하게 된다.
* 이렇듯 **협력은 여러 개의 요청과 응답으로 구성되며, 전체적으로 협력은 다수의 연쇄적인 요청과 응답 흐름으로 구성**된다.
* 나아가 **객체지향 세계는 동일한 목적을 달성하기 위해 서로 협력하는 객체들의 공동체**이다.

### 협력에서의 요청과 응답, 그리고 의무
* 객체들의 **협력 안에서 어떠한 일이든 또 다른 객체로부터의 요청으로 시작되며, 이는 곧 요청 수신자가 해당 일에 대한 의무를 갖는 것을 의미**한다.
  * 이렇듯 **어떠한 객체든지 요청을 수신할 수 있는 이유는 해당 요청에 대해 자신만의 적절한 방식으로 응답할 수 있는 방법과 지식을 갖기 때문**이다.
  * 또한, **요청과 응답은 협력에 참여하는 객체가 수행해야만 할 책임을 간접적으로 정의**한다.

### 책임이란?
```
> 어떠한 객체가 요청에 대해 응답할 수 있거나, 요청에 맞추어 행동해야할 의무가 있는 경우 해당 객체는 책임을 갖는다.
```
* 일반적으로, **어떠한 객체에 대한 요청은 해당 객체가 요청을 처리할 책임이 있음을 간접적으로 암시**한다.
* 책임은 객체지향 설계의 가장 중요한 개념 중 하나이므로, 책임을 어떻게 구현할지는 객체와 책임을 결정한 후에 고려해도 늦지 않다.
  * 오히려 객체와 책임이 정해지지 않은 상황에서 코드를 구현하는 것은 변경에 취약하고 여러 협력에 참여할 수 없는 객체를 양산하기 쉽다.

### 책임을 분류하기
* **협력에 참여하는 객체들은 목표를 달성하기 위해 저마다의 책임을 수행하며, 이 때 책임은 객체에 의해 정의되는 응집도 높은 행위 집합을 의미**한다.
  * 일반적으로, 책임은 객체가 알아야 할 정보와 수행할 수 있는 행위에 대해 문장 형식으로 서술하게 된다.
* **일반적으로 객체의 책임은 객체가 무엇을 알고 있는지와 무엇을 할 수 있는지로 구분**되므로, 다음과 같이 정리할 수 있다.
  1. doing: **객체를 생성하거나, 무언가를 계산하거나 다른 객체의 행동 또는 활동을 제어하는 것을 의미**한다.
  2. knowing: **객체가 자신 또는 연관된 객체, 나아가 자신이 유도하거나 계산한 것에 대한 정보를 아는 것을 의미**한다.
* **책임은 객체지향 설계의 품질을 결정하는 가장 중요한 요소이며, 적절한 객체에게 적절한 책임을 할당하는 것이 애플리케이션의 미래를 결정**한다.
* 또한, 객체의 책임은 일반적으로 외부로부터 접근 가능한 공용 서비스의 관점에서 이야기되곤 한다.
  * 따라서 **책임은 객체의 외부에 제공할 수 있는 정보인 아는 것과, 제공할 수 있는 서비스인 하는 것의 목록**과 같다.
  * 이는 **바꿔말해 책임은 결국 객체의 공용 인터페이스를 구성하는 것으로 이해할 수 있으며, 이러한 논리는 다시 캡슐화로 이어지게 된다**.

### 책임과 메시지
* **객체 간의 협력 안에서 서로에게 접근하는 유일한 방법은 메시지이므로, 객체는 자신에게 요청이 전송되었을 경우에만 자신에게 주어진 책임을 수행**하게 된다.
  * 이렇듯 한 객체가 다른 객체에게 전송한 요청은 해당 요청을 수신한 객체의 책임이 수행되도록 유발한다.
* 또한 **객체가 다른 객체에게 책임을 수행하도록 요청하는 것을 메시지 전송이라고 지칭하며, 두 객체 간의 협력은 반드시 메시지를 통해서만 유발**된다.
* 이 때, 책임과 메시지는 일견 유사해보이지만 다음과 같은 주요한 차이를 갖는다.
  1. **책임은 협력이라는 문맥 속에서 요청을 수신하는 객체가 무엇을 할 수 있는지, 또는 무엇에 응답할 수 있는지 나열**한다.
  2. 반면, **메시지는 협력에 참여하는 두 객체 사이의 관계를 더 강조**한다.
* 상술한 내용을 토대로, **임의의 객체가 갖는 책임은 무엇을 할 수 있는지 나열하지만 메시지는 요청 송신자와 수신자가 협력하는 문맥을 강조**한다.
  * 예를 들어, 요청 전송 객체는 수신 객체가 이해할 수 있는 메시지를 전송할 수 있고 수신 객체는 요청된 메시지에 대해 적절한 책임을 수행해야 한다.

### 두 객체의 협력, 책임, 메시지
* 하나의 객체가 외부로부터 데이터를 읽어들이는 책임을 갖는 경우, 이는 곧 해당 객체가 읽어들여달라는 메시지를 수신할 수 있다는 것을 의미한다.
* 반면, **읽어들이라는 메시지를 전송할 수 있는 또 다른 객체가 존재한다면 결국 두 객체 사이에는 상호 협력이 가능할 것**임을 알 수 있다.

### 책임과 메시지의 수준
```
> 책임과 메시지의 수준은 같지 않다.
```
* **책임은 객체가 협력이라는 문맥에서 수행할 수 있는 행위를 더 높은 수준에서 개략적으로 서술**한다.
  * 반면, 이렇게 **결정된 책임은 협력을 정제해나가는 과정에서 작은 여러 개의 메시지로 분할되는 것이 일반적**이다.
* 일반적으로 **설계를 시작하는 단계에서는 단지 어떤 객체가 어떤 책임을 갖고 협력하는지 개요를 이해하는 것만으로도 충분**하다.
  * 즉, **객체가 협력에 참여하기 위해 어떤 다른 객체와 협력하고 이를 위해 어떠한 메시지를 요청하거나 수신할지 결정하는 것이 중요**하다.
* 이렇듯 **객체지향 애플리케이션의 설계는 협력에 참여하기 위해 어떤 객체가 어떤 책임을 수행하고, 어떤 메시지를 수신할지 결정하는 데에서 시작**한다.
  * 반면, 구현 과정에서 어떤 클래스가 필요하고 어떤 메소드를 포함할지 결정하는 것은 책임과 메시지를 대략적으로 결정하는 것에 비해 우선 순위가 낮다.

## 2022-12-18 Sun
### 역할이란?
* 예를 들어, 어떤 객체는 협력에 참여하기 위해 이륙하기와 착륙하기라는 책임들을 가질 수 있다.
  * 이륙과 착륙은 각각이 책임이 되며, 객체의 구현 방법에 따라 각 책임에 필요한 행위는 여러 메시지로 쪼개어질 수 있다.
  * 이 경우, 협력에 참여하는 해당 객체는 비행기와 같은 역할을 수행할 것임을 어렵지 않게 짐작할 수 있다.
* 결국 **객체가 수행하는 책임은 하나 이상이므로 책임의 집합이 될 수 있으며, 이러한 집합은 객체가 협력 안에서 수행하는 역할을 암시**한다.
* 반면, 누군가가 이륙을 요청하고 비행기가 필요한 작업을 수행한 후에 착륙하는 과정에서 비행기 객체는 다른 객체로 변경될 수 있다.
  * 예를 들어, 다른 객체가 비행기와 동일한 책임을 수행할 수 있다면 비행기라는 역할은 전혀 다른 구체 객체에 의해 수행될 수 있다.
  * 즉, **협력은 동일한 책임 집합을 수행할 수 있는 역할을 기반으로 추상화되어 마치 하나의 협력처럼 관리**될 수 있다.
* 이렇듯 **역할은 복잡한 협력을 책임 집합을 기반으로 단순화하여 재사용 가능하고 유연한 객체지향 설계를 만드는 중요한 요소 중 하나로서 기능**한다. 

### 역할과 대체 가능성
```
> 동일한 역할을 수행하는 객체들은 동일한 메시지를 수신할 수 있으므로, 동일한 책임을 수행할 수 있다.
> 이러한 개념을 적절히 이해했을 경우에만 객체지향이 제공하는 여러 장점을 누릴 수 있게 된다.
```
* 상술한 바를 토대로, **역할은 협력이라는 문맥 안에서 임의의 객체가 다른 객체로 대체될 수 있음을 의미하는 대체 가능성**을 나타낸다.
  * 즉, **역할을 사용하는 경우 협력에 참여할 수 있는 객체를 임의의 구체적인 객체로 제한할 필요가 없어지게 된다**.
  * 반면, **협력이 역할로 인해 추상화되므로 같은 역할을 수행할 수 있는 객체라면 무엇이든지 협력에 참여**할 수 있게 된다.
* 물론 **모든 객체가 역할을 수행할 수 있는 것은 아니며, 각 역할이 수신할 수 있는 메시지를 동일한 방식으로 이해할 수 있는 객체**여야 한다.
  * 즉, 역할을 대체할 수 있는 객체는 반드시 동일한 메시지를 이해할 수 있는 객체여야 한다.
  * 반면, **메시지는 곧 책임을 의미하므로 동일한 역할을 수행하는 객체는 협력 내에서 동일한 책임 집합을 수행할 수 있는 것을 의미**한다. 
* 이렇듯 역할을 활용하는 것으로 유사한 협력 문맥을 추상화하여 인지 과부하를 미연에 방지할 수 있다.
  * 또한, 다양한 객체들이 협력에 참여할 수 있도록 하므로 하나의 협력을 더 유연하게 만들면서도 객체들의 재사용성을 높일 수 있다.
  * 즉, **역할은 객체지향 설계의 단순성과 유연성 및 재사용성을 뒷받침하는 핵심적인 개념**이 된다.

### 역할의 가치
* **역할은 여러 종류의 객체가 참여할 수 있도록 하는 것으로 협력을 추상화하고, 결론적으로 단순화**시킨다.
  * 이렇듯 협력을 추상화할 경우 설계자가 다루어야 할 협력의 개수를 줄이고, 협력의 양상을 단순화할 수 있게 된다.
  * 따라서 역할을 사용하면 여러 개의 협력이 추상화되어 애플리케이션의 설계를 이해하고 기억하기 쉬워진다.
* 구체적인 객체로 추상적인 역할을 대체하여 동일한 구조의 협력을 다양한 문맥에서 사용할 수 있도록 하는 것은 객체지향이 제공하는 큰 힘이 된다.
  * 이러한 객체지향 패러다임의 특징은 과거의 전통적인 패러다임과는 명확히 구분되는 특징이며, 이는 본질적으로 역할의 대체 가능성에서 비롯되는 특성에 해당한다.

### 대체 가능성
```
> 역할의 대체 가능성은 행위적인 호환성을 의미하며, 행위적 호환성은 다시 동일한 책임의 수행을 의미한다.
```
* **역할은 협력 내에서 구체적인 객체로 대체될 수 있는 추상적인 협력자며, 본질적으로 역할은 다른 객체에 의해 대체 가능함을 의미**한다.
  * 이 때, 객체가 역할을 대체하기 위해서는 협력 안에서 역할이 수행할 수 있는 행동을 그대로 수행할 수 있어야 한다.
  * 다시 말해, **객체는 역할을 대체하기 위해 협력 안에서 역할이 수행하는 책임을 모두 동일하게 수행할 수 있어야 한다**.
* 또한, **객체는 역할에서 주어진 책임 이외에 다른 책임을 수행할 수도 있다**.
  * 이는 곧 객체의 타입과 역할 간에도 일반화와 특수화 관계가 성립하며, **역할은 더 일반적인 개념인 반면 구체적인 개념인 객체의 타입은 특수화에 해당**한다.
  * 즉, **역할이 협력을 추상화할 수 있는 능력은 역할 자체가 객체를 추상화하는 데에서 기인**한다.

### 객체지향 패러다임의 흔한 선입견
* 많은 개발자들이 애플리케이션에 필요한 데이터를 저장하기 위해 객체가 존재한다는 선입견을 갖는다.
  * 그러나 **데이터는 객체가 행위를 수행하기 위해 필요한 재료에 불과한 반면, 객체의 존재 의의는 행위를 수행하며 협력에 참여하는 데에 있다**.
  * 때문에 어디까지나 **중요한 것은 객체의 행동, 즉 책임**이 된다. 
* 많은 개발자들이 객체지향은 클래스 간의 관계를 표현하는 정적인 측면에 중점을 둔다고 오해한다.
  * 그러나 **중요한 것은 정적인 클래스가 아닌, 협력에 참여하는 동적인 객체**에 있다.
  * 반면, 클래스는 어디까지나 시스템에 필요한 객체를 표현하기 위해 프로그래밍 언어 차원에서 제공하는 구현 메커니즘에 불과하다.
  * 따라서 **객체지향의 핵심은 클래스를 구현하는 방법이 아닌, 객체가 협력 안에서 어떤 책임과 역할을 수행할지 결정하는 데에 있다**.
* 이렇듯 **객체지향 입문자들이 데이터나 클래스를 중심으로 설계하는 이유는 협력이라는 문맥을 전혀 고려하지 않고 객체를 독립적으로 바라보기 때문**이다.
  * 이러한 **흔한 오류를 바로잡기 위해서는 우선 객체를 독립된 섬으로 바라보는 관점을 버리는 데에서부터 시작**해야 한다.