# EssenceOfObject-Orientation
## 2022-12-07 Wed

### 인지 능력과 객체지향 패러다임
```
> 객체지향은 세상을 자율적이고 독립적인 객체들로 분해할 수 있는 인간의 기본적인 인지 능력에 기반을 둔다.
```
* 인간의 인지 능력은 물리적인 경계를 갖는 구체적인 사물 뿐만 아니라 개념적으로 경계지어지는 추상적인 사물까지도 객체로 인식할 수 있도록 한다.
  * 이렇듯 인간은 세상을 더 작은 객체로 분해하여 복잡성을 극복하려 한다.
* 즉, **객체란 인간이 분명하게 인지하고 구별할 수 있는 물리적 또는 개념적 경계를 지닌 것을 의미**한다.
* **객체지향 패러다임은 소프트웨어 세상 역시 사람이 인지할 수 있는 다양한 소프트웨어 객체들이 모여 구성되었다는 믿음에서 출발한다.**
  * 반면, **객체지향 패러다임의 목적은 현실을 모방하는 것이 아닌 현실을 기반으로 새로운 세계를 창조하는 데에 있다**.

## 2022-12-08 Thu
### 객체란?
* 하나의 개별적인 객체로 식별할 수 있는 물리적, 또는 개념적인 사물은 무엇이든지 객체가 될 수 있다.
* 또한, 객체의 다양한 특성을 효과적으로 설명하기 위해서는 객체가 다음과 같은 개념을 갖는 실체로 보는 것이 바람직하다.
  1. 상태 - state
  2. 행동 - behavior
  3. 식별자 - identity
* 상술한 내용에서 미루어 보았을 때, 객체는 다음과 같이 정의할 수 있다.
```
> 객체란 식별 가능한 개체 또는 사물이며, 이는 물리적이거나 추상적인 개념일 수 있다.
> 객체는 구별 가능한 식별자와 특징적인 행동, 그리고 유동적으로 변경 가능한 상태를 가지며 소프트웨어에서는 저장된 상태와 실행 가능한 코드로 표현된다.
```

### 상태의 중요성
```
> 상태는 본질적으로 세상의 복잡성을 완화하고, 인지 과부하를 줄이기 위해 매우 중요한 개념이다.
```
* **일반적으로 어떤 행동의 결과는 과거의 또 다른 행동들에 의존하지만, 이러한 행동의 이력을 모두 관리하는 것은 매우 번거롭다**.
  * 예를 들어, 드라이브하기 위해서는 우선 자동차에 시동을 걸었어야 한다.
  * 그러나 모든 객체에 대해 모든 행동의 이력을 기록하는 것은 어렵고, 비효율적인 방법이다.
* **상태는 행동의 과정과 결과를 단순하게 기술하기 위해 도입된 개념이며, 이를 통해 모든 과거 이력을 설명하지 않고도 행동의 결과를 쉽게 예측할 수 있다**.
  * 예를 들어, 자동차에 어떠한 행동이 가해졌던 간에 시동이 걸린 상태라면 드라이브가 가능하다.
  * 이렇듯 **상태를 활용하면 과거에 얽매이지 않고도 현재를 기반으로 객체의 행동 방식을 이해할 수 있게 된다**.

### 상태와 프로퍼티
* **세상에는 존재하는 모든 것들이 객체인 것은 아니며, 분명하게 인식할 수 있음에도 객체의 영역에 포함시킬 수 없는 것들도 존재**한다.
  * 예를 들어 속도나 위치 등은 단순한 값에 해당하므로 객체로 볼 수 없다.
* 이러한 **단순한 값은 그 자체로 독립적인 의미를 갖는 대신 다른 객체의 특성, 즉 상태를 표현하기 위해 사용**된다.
  * 비록 **단순한 값은 객체가 아니지만, 이렇듯 객체의 상태를 표현하기 위해 사용되는 주요한 수단으로서 기능**한다.
* 반면, **값 뿐만 아니라 객체를 사용하여 다른 객체의 상태를 표현해야하는 경우도 존재할 수 있으므로 모든 객체의 상태는 값과 객체의 조합으로 표현 가능**하다.
  * 이 때, **객체의 상태를 구성하는 값이나 객체 등 모든 특징을 통틀어 객체 프로퍼티라고 지칭**한다.
  * **일반적으로 프로퍼티 자체는 변경되지 않고 고정되므로 정적인 반면, 프로퍼티의 값은 시간이 흐름에 따라 변경될 수 있으므로 동적**이다.
* 이렇듯 **객체와 객체 사이에 맺어진 의미 있는 연결을 링크라고 지칭하며, 객체 간에는 링크 통해서만 서로 요청을 주고 받을 수 있다**.
  * **링크는 또한 객체가 다른 객체를 참조할 수 있다는 것을 의미하며, 이는 일반적으로 한 객체가 다른 객체의 식별자를 알고 있는 것으로 표현**된다.
* **객체 간의 관계를 표현하는 링크와 달리, 객체를 구성하는 단순한 값은 속성이라고 지칭**한다.
  * 이에 따라, **객체의 프로퍼티는 단순한 값인 속성과 다른 객체를 가리키는 링크의 조합으로 표현**될 수 있다.
* 상술한 바에 따라, 객체의 상태는 다음과 같이 정의할 수 있다.
```
> 상태는 특정한 시점에 객체가 갖는 정보의 집합으로, 객체의 구조적인 특징을 표현한다.
> 객체의 상태는 정적인 '프로퍼티'와 동적인 '프로퍼티 값'으로 구성되며, 프로퍼티는 다시 단순한 값인 속성과 다른 객체를 참조하는 링크로 구분할 수도 있다.
```

### 자율적인 존재로서의 객체
```
> 객체지향의 세계에서 객체는 자율적인 존재이며, 객체는 반드시 스스로의 상태를 책임져야 한다.
```
* 객체지향의 세계에서 객체는 다른 객체의 상태에 직접 접근하거나, 이를 변경할 수 없어야 한다.
* 반면, **외부의 객체가 직접적으로 또 다른 객체의 상태를 변경하지 못하므로 간접적으로 객체의 상태를 변경하거나 조회할 수 있는 방법이 필요**하게 된다.
  * **이 시점에서 행동이 필요하게 되며, 행동은 다른 객체로 하여금 간접적으로 객체의 상태를 변경하거나 조회할 수 있도록 한다**.
* 이렇듯 **객체지향의 기본적인 사상은 상태와 그 상태를 조작하기 위한 행동을 하나의 단위로 묶는 데에 있다**.
  * **객체는 스스로의 행동에 의해서만 상태가 변경됨을 보장해야 하며, 이로 인해 객체의 자율성이 유지**될 수 있다.

## 2022-12-09 Fri
### 상태와 행동
```
> 객체의 상태는 알아서 변경되지 않으며, 상태를 변경하는 것은 오로지 객체의 자발적인 행동 뿐이다.
```
* **객체가 취하는 임의의 행동은 객체 자신의 상태를 변경시킬 수 있으며, 이렇듯 행동에 의해 상태가 변경되는 것은 일종의 사이드 이펙트**로 볼 수 있다.
  * 이렇듯 행동이 초래하는 사이드 이펙트의 개념을 활용할 경우, 객체의 행동은 상태 변경의 관점에서 쉽게 이해될 수 있다.
* 본질적으로 객체의 상태와 객체의 행동은 다음과 같은 관계에 있다.
  1. **객체의 행동은 상태에 영향을 받으므로, 행동의 결과는 객체의 상태에 의존적**이다.
  2. **객체의 행동은 상태를 변경**시킨다.
* 이렇듯 **행동과 밀접한 관계를 갖는 상태를 이용하면 아무리 복잡한 객체의 행동이라도 쉽게 이해하는 것이 가능**하다.

### 협력과 행동
* 앞서 다룬 바와 같이, 객체는 다음과 같은 특징을 갖는다.
  1. **어떠한 객체도 섬이 아니며, 객체는 책임을 완수하기 위해 다른 객체를 이용하고 또 다른 객체에게 서비스를 제공하며 협력**한다.
  2. **객체가 다른 객체와 협력하는 유일한 방법은 다른 객체에게 요청을 보내는 것**이다.
  3. **요청을 수신한 객체는 적절한 방법에 따라 행동**한다.
  4. **행동은 상태를 변경시키며, 또한 그 결과는 상태에 의존**한다.
* 이렇듯 **행동은 객체가 협력에 참여할 수 있는 유일한 방법이며, 다른 객체로부터의 요청에 의해 유발**된다.
* 이 때, **객체 간 의사소통을 위한 유일한 수단은 오직 메시지 뿐이므로 객체의 행동을 유발하는 것은 또한 객체가 외부로부터 수신한 메시지**가 된다.
  * 따라서 **객체는 수신한 메시지에 따라 적절히 행동하면서 협력에 참여하고, 그 결과로 자신의 상태를 변경**한다.
* **객체는 협력에 참여하며 다른 객체를 이용하기도 하므로, 자신의 상태 뿐만 아니라 다른 객체의 상태 변경을 유발할 수도 있다**.
  * **객체는 다른 객체의 상태를 직접적으로 주무르지 않아야 하므로, 대신 메시지를 전달하는 식으로 부수 효과를 유발**한다. 
* 상술한 내용을 토대로, **객체의 행동으로 인해 발생하는 결과는 다음과 같은 두 관점으로부터의 부수효과를 명확히 서술해야 함**을 이해할 수 있다.
  1. 객체 자신의 상태 변경
  2. 행동 내에서 협력하는 다른 객체에 대한 메시지 전송
* 이에 따라, 객체의 행동은 다음과 같이 정의할 수 있다.
```
> 객체의 행동이란, 외부로부터의 요청이나 수신된 메시지에 응답하기 위해 동작하고 반응하는 일련의 활동을 의미한다.
> 행동의 결과로서 객체는 자신의 상태를 변경하거나, 다른 객체에게 메시지를 전달할 수 있다.
> 객체는 행동을 통해서 다른 객체와 협력하므로, 객체의 행동은 반드시 외부에 가시적이어야 한다.
```

### 상태의 캡슐화
* **객체지향 세계의 모든 객체는 자신의 상태를 스스로 관리하는 자율적인 존재이며, 다른 객체의 상태를 마음대로 주무를 수 없고 그러지도 말아야 한다**.
  * 에를 들어, 현실에서는 사람이 음료의 양을 직접적으로 줄이므로 음료는 혼자서는 아무것도 할 수 없는 수동적인 존재이다.
  * 그러나 사람 객체와 음료 객체의 관계에서, 사람 객체는 음료를 마신다는 행위 과정에서 자신이 음료를 마셨다는 메시지만을 전송하게 된다.
  * 이 경우 **양을 줄이는 것은 메시지를 전달 받은 음료 객체의 몫이므로, 사람 객체는 음료의 양이 줄어들 것이라는 믿음을 가진 채로 메시지를 전송할 뿐**이다.
* 반면, **객체 간의 협력을 위해 전달하는 메시지만 봐서는 상태 변경을 절대로 예측할 수 없다**.
  * 예를 들어, 사람 객체는 음료 객체에게 `drunken`이라는 메시지를 전달할 수는 있지만 이로 말미암아 음료의 양이 변경된다는 사실은 알 수 없다.
  * 즉, **메시지 송신자는 메시지 수신자의 상태 변경에 대해서 전혀 알지 못하며 이는 캡슐화가 의미하는 바**이기도 하다.
* **객체는 상태를 캡슐화하여 안에 감춰둔 채 외부로 노출하지 않으며, 외부로 노출하는 것은 오로지 행동 뿐**이다.
  * 또한, **외부에서 객체로 접근할 수 있는 유일한 방법 역시 행동 뿐**이다.
* 비록 객체의 행동을 유발하는 것은 외부로부터 온 메시지지만, 이로 인해 상태가 변경될지는 객체 자신이 스스로 결정한다.
* 이렇듯 **상태를 외부로 노출하지 않고 행동을 경계로 객체 내부에 캡슐화하는 것은 결과적으로 객체의 자율성을 높여준다**.
  * 자율적인 객체는 스스로 판단하고 결정하므로, 객체의 자율성이 높아질수록 객체의 지능은 높아진다.
  * 나아가 **협력에 참여하는 객체들의 지능이 높아질수록 협력은 유연하고 간결**해질 수 있다.
* 결국 **상태를 잘 정의된 행동들 뒤로 캡슐화하는 것은 객체 자율성을 높이고, 협력을 단순하고 유연하게 만들며 이는 상태를 캡슐화해야만 할 이유**이기도 하다.  

## 2022-12-10 Sat
### 식별자란?
* **객체는 식별 가능한 경계를 갖는 모든 사물을 의미하며, 식별 가능하다는 것은 곧 객체를 구별할 수 있는 특정한 프로퍼티가 객체 내부에 존재함을 의미**한다.
  * 이 때, **객체를 구별할 수 있도록 하는 특정한 프로퍼티를 식별자라고 지칭**한다.
  * 또한, **모든 객체가 식별자를 갖는다는 것은 바꾸어 말해 객체가 아닌 단순한 값은 식별자를 갖지 않음을 의미**하기도 한다.
* 값과 객체의 가장 큰 차이는 식별자의 존재 유무이며, 값은 식별자를 갖지 않지만 객체는 식별자를 갖는다.
* 식별자는 임의의 객체를 다른 객체와 구분하기 위해 사용하는 객체의 프로퍼티이며, 값과 객체는 각각 식별자에 대해 다음과 같은 다른 특징을 갖는다.
  1. **값은 식별자를 갖지 않으므로, 상태를 활용한 동등성 검사를 통해 두 인스턴스를 비교**한다.
  2. **객체는 상태가 변경될 수 있으므로, 식별자를 활용한 동일성 검사를 통해 두 인스턴스를 비교**한다.
* **객체 식별자 개념은 상속이나 다형성과 같은 개념에 비해 간과되기 쉬우나, 실제로는 객체지향 패러다임의 표현력을 높이는 중요한 역할**을 수행한다.
  * **객체지향의 세계는 상태가 변하지 않는 값과 상태가 가변적인 객체들이 서로 균형을 맞추며 조화를 이루는 사회**여야만 한다.

### 값의 특징
* 값은 숫자나 문자열, 날짜 등과 같이 변하지 않는 양을 모델링한다.
  * 이 때, **값 인스턴스의 상태는 변하지 않으므로 불변 상태를 갖는다고 표현**한다.
* **값의 경우, 두 인스턴스의 상태가 같다면 두 인스턴스 역시 같은 것으로 판단**한다.
  * 값이 같은지 여부는 상태를 이용하여 판단하며, 값의 상태가 같을 경우 두 인스턴스를 동일한 것으로 판단한다.
* 이렇듯 **상태를 이용하여 두 값이 같은지 판단할 수 있는 성질을 동등성이라고 하며, 값의 상태는 변하지 않기에 상태를 통해 동등성을 판단**할 수 있다.
  * 값의 상태는 결코 변하지 않으므로, 임의의 시점에 동일한 타입의 두 값이 같다면 언제까지라도 두 값은 동등한 상태를 유지한다.
* **값은 오직 상태만을 이용하여 동등성을 판단하므로, 인스턴스 각각을 구별하기 위한 식별자가 필요하지 않다**.

### 객체의 특징
* **객체는 시간에 따라 변할 수 있는 상태를 포함하며, 행동을 통해서 이러한 상태를 변경하므로 객체는 가변 상태**를 갖는다고 볼 수 있다.
  * 때문에 **타입이 같은 두 객체의 상태가 같더라도 반드시 두 객체를 별개의 객체로 다루어야 한다**.
* 이로 인해 **객체는 상태와 무관하게 두 객체가 같다고 판단할 수 있는 프로퍼티를 가지며, 두 객체의 상태가 다르더라도 식별자가 같다면 두 객체는 같다**.
  * 이렇듯 **식별자를 기반으로 객체가 같은지 판단할 수 있는 성질을 동일성이라고 지칭**한다.
  * 이러한 측면에서 **동일성은 상태를 기반으로 두 값이 같은지 판단할 수 있는 성질인 동등성과는 차이**가 있다.
  * **객체는 가변 상태를 갖기 때문에 두 객체의 동일성을 판단하기 위해 상태 이외의 독립적인 식별자를 사용할 수 밖에 없다**.

### 중간 정리 = 객체의 상태와 행동, 그리고 식별자
* **객체는 상태를 가지며, 상태는 가변적**이다.
* **객체의 상태를 변경하는 것은 객체의 행동**이다.
  * 행동의 결과는 상태에 의존적이며, 상태를 활용하여 서술될 수 있다.
  * 행동의 순서는 실행 결과에 영향을 미친다.
* **객체는 어떠한 상태에 있더라도 식별자를 통해 유일하게 식별**될 수 있다.

### 객체와 기계 은유
```
> 객체를 기계로 바라보는 관점은 상태와 행동, 그리고 식별자에 대한 시각적인 이미지를 제공한다.
> 또한, 이러한 은유는 캡슐화는 물론이고 메시지를 활용한 협력 관계 역시도 효과적으로 설명할 수 있다.
```
* 객체지향 세계를 만들어내는 개발자들의 주 업무는 객체의 상태를 조회하거나, 객체의 상태를 변경하는 것이다.
  * 이 중 조회 작업을 쿼리 변경 작업을 명령으로 분류할 수 있다.
  * 또한, **객체가 외부에 제공하는 행동의 대부분은 쿼리 또는 명령으로 구성**된다.
* 버트란드 마이어는 **객체를 기계에 비유하였으며, 기계는 쿼리와 명령 버튼을 외부에 노출하는 하나의 블랙박스로서 기능**한다.
  * 때문에 명령 버튼을 눌러 객체의 상태를 마음껏 변경할 수는 있으나, 쿼리 버튼을 누르기 전까지는 변경된 상태를 조회할 수는 없다.
* 이 때, **사용자가 기계의 버튼을 통해 상태를 변경하거나 조회하는 것은 곧 객체의 행동을 유발하기 위해 메시지를 전송하는 것과 유사**하다.
  * 즉, 버튼을 누르는 것은 사용자지만 동작 방식은 기계 스스로 결정한다.
  * 이러한 특징을 갖는 객체 기계는 단지 명령과 쿼리라는 행동 집합만을 외부에 제공하며, 다른 방법을 통해서는 객체 기계를 사용할 수 없도록 한다.
  * 때문에 이러한 **객체 은유는 전달된 메시지에 따라 스스로 판단하고 결정하는 자율적인 객체의 특성을 정확히 묘사하는 비유**로 이해할 수 있다.
* 또한, **객체 기계 은유는 객체에 접근할 수 있는 유일한 방법은 객체가 제공하는 행동 뿐이라는 점을 강조**한다.
  * 때문에 사용자는 오로지 객체가 제공하는 인터페이스를 통해서만 객체에 접근할 수 있게 된다.
* **객체 기계는 버튼을 통해서만 상태에 접근할 수 있다는 특징을 통해 객체의 캡슐화 역시 강조하므로, 객체의 캡슐화를 직관적이고 시각적으로 묘사**한다.
* **사용자는 두 기계가 동일한 기능을 수행하더라도 별개의 것으로 인식하므로, 객체의 식별자 개념 역시 객체 기계 은유를 통해 효과적으로 설명**할 수 있다.
  * **객체의 관점에서, 객체는 이렇듯 상태와 무관하게 구분 가능한 식별자를 갖는다**.
* 나아가 두 개의 객체 기계를 링크를 통해 연결할 경우, 링크를 통해 연결된 두 객체 간의 메시지 전송을 활용한 협력 역시 직관적으로 이해할 수 있다.

## 2022-12-11 Sun
### 행동이 상태를 결정한다
```
> 객체의 행동이 상태를 결정해야 한다.
```
* **객체지향 초보자들이 범하기 쉬운 실수 중 하나는 상태를 중심으로 한 관점에서 객체를 바라보는 것**이다.
  * 예를 들어, 초보자들은 객체에 필요한 상태가 무엇인지 우선 결정한 후에 이에 걸맞는 행동을 결정한다.
* 그러나 상태를 행동보다 우선하는 관점은 다음과 같은 형태로 설계에 악영향을 줄 수 있다.
  1. **상태를 먼저 결정하므로, 상태가 공용 인터페이스에 그대로 노출되는 식으로 캡슐화가 저하될 확률이 높다**.
  2. **객체의 존재 의의는 애플리케이션 안에서 다른 객체와 협력하는 것이지만, 상태를 먼저 고려하는 방식은 협력을 염두에 두지 않으므로 객체를 고립**시킨다.
     * 특히, 이 경우 협력에 적합하지 못한 객체를 만들어내기 쉽게 된다.
  3. **객체의 재사용성은 다양한 협력에 참여할 수 있는 능력에서 기인하므로, 상태에 초점을 맞춘 객체는 재사용성 역시 저하**된다.
* 때문에 **협력에 능동적으로 참여하는 객체를 설계하는 가장 중요한 덕목은 상태가 아닌 행동에 초점을 맞추는 것**이다. 
  * **객체는 다른 객체와 적극적으로 협력하기 위해 존재하는 반면, 객체의 행동은 객체가 협력에 참여하는 유일무이한 방법**이다.
  * 즉, **객체가 협력에 적합한지 여부를 결정짓는 것은 객체의 상태가 아닌 행동**일 수 밖에 없다.
* 이렇듯 **개발자가 애플리케이션 안에서 어떤 행동을 원하는지에 따라 적합한 객체가 결정되므로, 객체의 적합도를 결정하는 요인은 상태가 아닌 행동**이다.
  * 때문에 **설계자로서 개발자는 협력의 문맥에 걸맞는 적절한 행동을 수행하는 객체를 찾아내거나, 창조해야만 한다**.

### 객체지향 설계 프로세스
```
> 협력 안에서 객체의 행동이란 곧 객체가 협력에 참여하면서 완수해야 할 책임을 의미하므로, 어떤 책임이 필요한가를 결정하는 과정이 전체 설계를 주도해야 한다.
```
* 상술한 내용에 따라, 객체지향 설계는 다음과 같은 순서로 진행되는 것이 바람직하다.
  1. **우선 애플리케이션에 필요한 협력을 생각**한다.
  2. **협력에 참여하기 위해 필요한 행동을 생각**한다.
  3. 행동을 수행하기에 적합한 객체를 선택한다.
  4. **이제서야 행동에 필요한 정보를 고려하고, 이 과정에서 필요한 상태를 결정**한다.
* 이렇듯 **객체지향 패러다임에서 객체의 설계는 우선 객체의 행동을 결정한 후에 이 행동에 적절한 상태를 선택하는 식으로 진행**된다.
  * 나아가 협력이라는 문맥 안에서 객체의 행동을 고려하는 방식은 응집도 높고 재사용 가능한 객체를 만들 수 있게 할 수 있다.