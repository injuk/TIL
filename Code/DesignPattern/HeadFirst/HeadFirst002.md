# HeadFirst
## 2022-10-20 Thu

### 변화에 대응할 준비하기
* **옵저버 패턴 역시 앞서 다루었던 다음의 원칙을 벗어나지 않은 상태에서 유연성을 보장할 수 있어야** 한다.
  1. 변화할 수 있는 부분을 캡슐화해야 한다.
  2. 구현보다는 추상에 의존해야 한다.

### 옵저버 패턴의 이해
```
> 옵저버 패턴은 무엇인가 중요한 이벤트가 발생했을 때 객체에게 이를 알려줄 수 있도록 한다.
```
* 옵저버 패턴을 이해하기에 앞서, 우선 신문 구독 흐름을 상기해보는 것으로 패턴의 이해를 도울 수 있다.
  1. 신문사가 사업을 시작하고, 신문을 만들어내기 시작한다.
  2. 독자는 임의의 신문사에 구독 신청을 할 수 있다.
  3. **독자가 임의의 신문사에 구독을 신청한 경우, 신문사가 새로운 신문을 발행할 때마다 이를 배달**받을 수 있다.
  4. **신문을 더 이상 구독하지 않고자하는 경우, 구독을 해지**할 수 있다.
  5. **신문사의 독자는 꾸준히 증가하거나 감소**할 수 있다.
* 이 때, 신문사와 독자의 관계는 옵저버 패턴과 매우 유사하며 각각 다음과 같은 역할을 수행한다.
  1. 신문사: 옵저버 패턴에서 주제에 대응된다.
  2. 독자: 옵저버 패턴에서 옵저버 자체에 대응된다. 
* 이러한 배경 지식 하에 옵저버 패턴을 개괄적으로 표현하면 다음과 같다.
  1. 주제는 주제 객체로 대표되며, 주제 객체는 중요한 데이터를 관리할 책임을 갖는다.
  2. 옵저버 객체들은 주제 객체를 구독하는 것으로 주제 객체에 등록된다.
  3. **주제 객체는 자신이 관리하는 주제 데이터가 변경되었을 때 어떠한 방법으로든 간에 등록된 옵저버들에게 이를 알릴 책임**을 갖는다.
  4. **옵저버 객체는 주제 객체가 관리하는 주제 데이터가 변경되었을 때 갱신된 내용을 전달받아 적절하게 행동**할 수 있다.
     * 반면, 주제 객체에 등록되지 않은 객체는 옵저버 객체가 아니므로 데이터의 변경에 대해 어떠한 알림도 받을 필요가 없다.