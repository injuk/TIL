# Objects
## 2022-03-27 Sun

## 역할, 책임, 협력
* **객체지향 패러다임의 관점에서 핵심은 상속과 클래스가 아닌 역할과 책임, 협력**에 있다.
  * 상속과 클래스 역시 중요하지만, 이는 설계보다 구현에 가까운 내용이므로 객체지향 패러다임의 본질과는 거리가 있다.
* 객체지향의 본질은 협력하는 객체들의 공동체를 창조하는 것이므로, 설계의 핵심은 협력을 구성하기 위한 객체를 찾고 적절한 책임을 할당하는 과정에서 드러난다.
* 반면 클래스와 상속은 객체의 책임과 협력이 어느 정도 구성된 후에 사용할 수 있는 구현 메커니즘에 지나지 않는다.
  * 객체의 협력을 위한 역할, 책임을 결정하지 못한 상태에서 구현에 초점을 맞추는 것은 변경이 어렵고 유연하지 못한 코드를 낳는 원인이 된다.
  * 역할, 책임, 협력이 자리잡지 못한 애플리케이션은 아무리 응집도 높은 클래스로 구성된다고 해도 장기적으로 실패하기 쉽다.
* 객체지향 원칙을 따르는 애플리케이션의 제어 흐름은 어떤 하나의 객체에 의해 통제되지 않고, 다양한 객체들 사이에 균형 있게 분배된다.
  * 중요한 것은 객체들이 기능을 구현하기 위해 메시지를 주고받으면서 서로 상호작용한다는 점이다.
* **객체들이 애플리케이션의 기능을 완성하기 위해 수행하는 상호작용이 협력**이다.
* **객체들이 협력에 참여하기 위해 수행하는 로직은 책임**이다.
* **객체들이 협력 안에서 수행하는 책임들이 모여 객체가 수행하는 역할**이 된다.
```
> 객체지향에서 가장 중요한 것은 객체의 역할과 책임, 그리고 협력이다.
```

### 협력
* 객체지향 시스템은 자율적인 객체들의 공동체이므로, 객체는 고립된 존재가 아닌 사회적인 존재이다.
* **협력은 객체지향의 세계에서 기능을 구현할 수 있는 유일한 방법**이다.
* **메시지 전송은 객체 사이의 협력을 위해 사용할 수 있는 유일한 소통 방법**이다.
  * 객체는 다른 객체의 내부 구현에 접근할 수 없으므로, 오로지 메시지 전송을 통해서만 다른 객체에게 도움을 요청할 수 있다.
* **두 객체는 상호작용을 통해 더 큰 책임을 수행**하게 되므로, 객체의 협력을 설게할 때에는 분리된 인스턴스가 아닌 협력하는 파트너도 인식해야 한다.
* 메시지를 수신하는 객체는 요청에 응답하기 위해 메소드를 실행하며, 객체는 메시지를 처리할 방법을 스스로 결정한다.
  * 이 때, **각 객체는 자신이 할 수 없는 일을 다른 객체에게 위임하는 것으로 전체적인 자율성을 향상**시킬 수 있다.
* **객체를 자율적으로 만드는 가장 기본적인 방법은 내부 구현을 캡슐화하는 것**이다.
  * 캡슐화를 통해 변경이 적용되는 범위를 제한할 수 있으며, 때문에 자율적인 객체는 변경이 쉽다.
* 자율적인 객체는 자신에게 할당된 책임을 수행하던 중 알 수 없는 정보 또는 외부의 도움이 필요한 경우, 적절한 객체에게 메시지를 전송하여 협력을 요청한다.
* 이렇듯 **객체 사이의 협력을 구성하는 일련의 요청과 응답을 정의하는 것으로 애플리케이션의 기능을 구현**할 수 있다.

### 설계를 위한 문맥을 결정하는 협력
* 애플리케이션 안에 어떠한 객체가 필요하다면, 그 이유는 단 하나여야 한다.
  * 이는 **객체가 협력에 참여하기 때문으로, 객체가 협력에 참여할 수 있는 이유 역시 협력에 필요한 행동을 보유하기 때문**이다.
* **객체의 행동을 결정하는 것은 객체가 참여하고 있는 협력**이며, 협력은 객체의 존재 이유와 수행하는 행동의 동기를 제공한다.
* **객체는 협력을 위해 존재하므로, 협력이라는 문맥을 고려하지 않고 객체의 행동을 결정하는 것은 의미가 없다**.
* **객체의 행동을 결정하는 것이 협력이라면, 객체의 행동은 상태를 결정**한다.
  * 상태는 객체가 행동을 수행하기 위해 필요한 정보이며, 객체는 자신의 상태를 스스로 결정하고 처리하는 자율적인 존재여야 한다.
  * 즉, 상태는 행동을 위해 존재한다.
* 결국 **객체가 참여하는 협력이 객체의 행동과 상태를 모두 결정하는 셈이므로, 협력은 객체 설계에 필요한 일종의 문맥을 제공**한다. 
  * 객체는 본질적으로 상태와 행동을 함께 캡슐화하는 실행 단위이므로, 객체를 설계하는 과정에서 협력을 문맥 삼을 수 있다. 