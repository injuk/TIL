# Objects
## 2022-03-28 Mon

## 설계의 품질과 트레이드오프
* 앞서 다룬 바와 같이 객체지향 설계의 핵심은 협력, 책임, 그리고 역할이며, 이 중 **가장 중요한 것은 책임**이다.
  1. 협력: 애플리케이션의 기능을 구현하기 위해 메시지를 주고받는 객체들의 상호작용 전반을 말한다.
  2. 책임: 객체가 또 다른 객체와 협력하기 위해 수행하는 행동을 말한다.
  3. 역할: 대체 가능한 책임의 집합을 말한다.
* 적절한 책임 없이는 원활한 협력을 기대할 수 없으며, 역할 역시 협력과 조합될 수 없다.
  * 때문에 **애플리케이션 전체의 품질을 결정하는 것은 언제나 책임**이다.
* 앞서 다룬 바와 같이, 객체지향 설계의 의미는 다음과 같이 요약할 수 있다.
  1. 적절한 객체에게 적절한 책임을 할당한다.
     * 이는 객체지향 설계의 핵심이 책임이라는 점을 시사한다.
  2. 낮은 결합도와 높은 응집도를 갖는 구조를 만든다.
     * 이는 책임을 할당하는 작업이 응집도 또는 결합도와 같은 설계 품질과 밀접한 연관이 있음을 시사한다.
* 설계는 변경을 위해 존재하며, 변경에는 어떤 형식으로든 비용이 발생한다.
  * 따라서 **훌륭한 설게는 합리적인 비용으로 변경을 수용할 수 있는 구조를 만드는 것**으로 볼 수 있다.
  * 납득할 수 있는 비용에서 쉽게 변경할 수 있는 설계는 대체로 응집도가 높고 느슨하게 결합된 요소로 구성된다.
* **객체의 상태가 아닌 행동에 집중하는 것은 결합도와 응집도를 합리적인 수준으로 유지할 수 있는 중요한 원칙**이다.
  * 즉, 객체의 책임에 초점을 맞추는 방식이다.
  * 책임에 집중하는 것은 객체의 상태에서 행동으로, 나아가 객체 간의 상호작용으로 설계의 중심을 이동시킨다.
  * 이를 통해 결합도가 낮은 동시에 응집도가 높으며, 구현을 효과적으로 캡슐화하는 객체를 만들어낼 수 있게 된다.

### 객체지향 설계에서의 시스템 분할
* 객체지향 설게에서는 다음의 두 방식을 통해 시스템을 객체로 분할할 수 있다.
  1. 상태를 분할의 기준으로 삼는 방식
  2. 책임을 분할의 기준으로 삼는 방식
* **상태, 즉 데이터를 중심으로 하는 관점은 객체가 자신이 포함하는 데이터를 조작하기 위해 필요한 행동을 정의**한다.
  * 이 경우, 객체는 하나의 독립적인 데이터 덩어리에 지나지 않는다.
* **책임을 중심으로 하는 관점은 객체가 다른 객체로부터 요청받을 수 있는 행동을 위해 필요한 데이터를 보관**한다.
  * 이 경우, 객체는 협력하는 공동체의 일원이다.
* **훌륭한 객체지향 설계는 상태가 아닌 책임에 초점**을 맞추어야 하며, 그 이유는 변경과 관련이 있다.
  1. 상태는 기본적으로 객체의 구현에 속한다.
  2. **데이터 중심의 관점은 상태를 기반으로 데이터를 조작하는 행동을 정의하므로, 구현이 퍼블릭 인터페이스에 영향을 주기 쉽다**.
  3. 결국 **상태의 변경은 인터페이스의 변경을 반드시 수반하게 되며, 해당 퍼블릭 인터페이스에 의존하는 모든 객체에 영향**을 끼치게 된다.
* 반면 객체의 책임은 애당초 인터페이스에 속하며, 구현은 인터페이스 뒤로 캡슐화된다.
  * 따라서 책임에 초점을 맞추는 것은 상대적으로 변경에 안정적인 설계를 얻을 수 있게 한다.