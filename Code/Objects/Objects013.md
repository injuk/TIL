# Objects
## 2022-04-06 Wed

## 서브클래싱과 서브타이핑
* 앞서 다룬 바와 같이, 상속은 크게 다음과 같은 두 용도로 사용된다.
  1. 타입 계층의 구현
  2. 코드의 재사용
* 타입 계층 안에서 부모 클래스는 일반적인 개념을 구현하고, 자식 클래스는 특수한 개념을 구현한다.
  * 즉, **상위 클래스는 하위 클래스의 일반화된 개념을 표현**한다.
* 코드 재사용 측면에서, 상속은 간단한 선언만으로 부모 클래스의 코드를 재사용할 수 있도록 하지만 너무 강하게 결합되는 부작용을 수반한다.
* **상속을 사용하는 기본적인 목표는 코드의 재사용이 아닌 타입 계층의 구현**이어야만 한다.
  * 코드 재사용을 목적으로 사용된 상속은 부모 클래스와 자식 클래스를 강하게 결합시켜 설계의 변경과 확장을 방해한다.
  * 반면 **타입 계층을 목적으로 사용된 상속은 다형적으로 동작하는 객체 관계에 기반한 유연하고 확장성 있는 설계를 얻을 수 있게 한다**.
```
> 동일한 메시지에 서로 다르게 행동할 수 있는 다형적인 객체를 구현하기 위해, 객체의 행동을 기반으로 타입 계층을 구성해야 한다.
> 상속은 이를 위한 쉽고 편안한 방법을 제공한다는 점에 그 의의가 있다.
```

### 타입
* 타입의 의미를 이해하기 위해 개념 관점에서의 타입과 프로그래밍 언어 관점에서의 타입으로 이해할 수 있다. 
  1. 개념 관점에서의 타입: 우리가 인지하는 사물의 종류를 나타내는 개념이다.
  2. 프로그래밍 언어 관점의 타입: 비트에 의미와 제약을 부여하기 위해 사용되는 개념이다.

### 개념 관점에서의 타입
* 우리가 인지하는 사물의 종류가 개념 관점에서의 타입에 해당하며, 해당 타입으로 분류될 수 있는 대상을 인스턴스 또는 객체라고 한다.
* 개념 관점에서의 타입은 다시 다음의 세 개념으로 구성된다.
  1. 심볼: 타입에 붙인 이름.
  2. 내연: 타입의 정의로서, 타입에 속하는 객체들이 갖는 공통적인 속성이나 행동의 집합.
  3. 외연: 타입에 속하는 객체들의 집합.

### 프로그래밍 언어 관점의 타입
* 하드웨어는 데이터를 0과 1로 구성된 비트 스트림으로 취급하지만, 비트 자체에는 타입이라는 개념을 부여할 수 없다.
  * 따라서 특정 비트 스트림을 문자열로 취급할지, 정수로 취급할지 구분하는 것은 전적으로 애플리케이션에 의해 결정된다.
* 따라서 **프로그래밍 언어 관점에서의 타입이란, 이러한 비트 스트림에 의미를 부여하기 위해 정의된 제약과 규칙을 가리키는 용어**이다. 
* 프로그래밍 언어에서 타입은 다음과 같은 두 목적을 위해 사용된다.
  1. 타입에 수행될 수 있는 유효한 오퍼레이션 집합을 정의.
     * 모든 객체지향 언어는 객체의 타입에 따라 적용 가능한 연산자의 종류를 제한하는 것으로 개발자의 실수를 미연에 방지한다.
  2. 타입에 수행되는 오퍼레이션에 대해 미리 약속된 문맥을 제공.
     * Java의 + 연산자는 피연산자의 타입에 따라 달리 동작할 수 있다.
     * Java의 **new 연산자는 타입에 정의된 크기만큼의 공간을 할당하고 생성된 객체를 초기화하는 타입 생성자를 호출**한다.
```
> 타입은 적용 가능한 오퍼레이션의 종류와 의미를 정의하고, 코드의 의미를 명확하게 전달하여 개발자의 실수를 방지하기 위해 사용한다.
```

### 객체지향 패러다임 관점에서의 타입
```
> 개념 관점에서의 타입은 공통의 특징을 공유하는 대상들의 분류이다. 
> 프로그래밍 언어 관점에서는 동일한 오퍼레이션을 적용할 수 있는 인스턴스의 집합이다.
```
* 객체지향 프로그래밍에서, 오퍼레이션은 객체가 수신할 수 있는 메시지를 의미한다.
* 따라서 **객체의 타입이란 객체가 수신할 수 있는 메시지의 종류를 정의**하는 것이다.
  * 객체가 수신할 수 있는 메시지의 집합은 퍼블릭 인터페이스라는 용어로 부를 수 있다.
  * 즉, **객체지향 프로그래밍에서 타입을 정의하는 것은 객체의 퍼블릭 인터페이스를 정의하는 것**과 같다.
* 개념 관점에서의 **타입은 공통의 특성을 가진 객체들을 분류하는 기준**이다.
* 객체지향에서 **객체들이 갖는 공통의 특성은 객체가 수신할 수 있는 메시지이므로, 동일한 퍼블릭 인터페이스를 갖는 객체는 동일한 타입으로 분류**할 수 있다.
* 상술한 내용을 토대로 객체지향 프로그래밍 관점에서의 타입은 다음과 같이 정의할 수 있다.
```
> 객체의 퍼블릭 인터페이스가 객체의 타입을 결정한다.
> 동일한 퍼블릭 인터페이스를 제공하는 객체들은 동일한 타입으로 분류할 수 있다.
```
* 이는 즉 **앞서 다뤄온 바와 같이 객체에게 중요한 것은 속성이 아닌 행동임을 강조**한다.
  * 객체들이 동일한 상태를 갖더라도 퍼블릭 인터페이스가 다르다면 타입이 다른 것이다.
  * 반면 객체들의 상태가 제각각이더라도 퍼블릭 인터페이스가 같다면 같은 타입으로 분류된다.
```
> 객체의 타입을 결정하는 것은 내부의 속성이 아닌 외부에 제공하는 행동이므로, 객체를 바라볼 때에는 항상 객체가 외부에 제공하는 행동에 초점을 맞추어야 한다.
```