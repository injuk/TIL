# Basics
## 2022-06-15 Wed

### H2란?
* 앞서 다룬 메모리 리포지토리의 경우, 메모리에 데이터를 저장하므로 애플리케이션을 재실행할 때마다 모든 데이터가 지워진다.
  * 그러나 비즈니스 로직에 필요한 도메인 객체는 영속화될 필요가 있으므로, 백엔드 서버에는 데이터베이스가 필수적이다.
* H2 연결시 설정은 다음과 같이 입력한다.
  1. Saved Settings: Generic H2 (Embedded)
  2. Driver Class: org.h2.Driver
  3. JDBC URL: `jdbc:h2:tcp://localhost/~/test`
     * 해당 설정을 통해 파일에 직접 접근하는 것이 아닌 소켓 연결이 가능해진다.
  4. 연결 후 다음과 같은 테이블을 생성한다.
```
create table member
(
  id bigint generated by default as identity,
  name varchar(255),
  primary key (id)
);
```
* `id bigint generated by default as identity`의 경우, 값을 설정하지 않고 INSERT한 경우 데이터베이스가 값을 스스로 채워준다.
  * `insert into member(name) values ('ingnoh');` 등의 쿼리를 통해 H2 데이터베이스에 값을 삽입할 수 있다.
  * 삽입된 정보는 `select * from member;` 등의 쿼리를 통해 확인할 수 있다.
* **실무에서는 상술한 내용과 같은 DDL의 경우 별도의 `.sql` 확장자 파일에 저장하여 버전 관리 시스템을 통해 관리하는 것이 이상적**이다. 