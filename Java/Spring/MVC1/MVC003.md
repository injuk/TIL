# Spring MVC I
## 2024-04-22 Mon
### HTTP Servlet Response를 활용한 리다이렉트 구현
* 예를 들어 HTTP 응답의 코드가 `302`이고 `Location` 헤더에 적절한 경로가 정의된 경우, 웹 브라우저 등은 자동으로 해당 경로에 리다이렉트하도록 동작한다.
  * 서블릿을 활용할 경우, 이러한 코드 역시 다음과 같이 간단히 구현해볼 수 있다.
```kotlin
@WebServlet(name = "responseHeaderServlet", urlPatterns = ["/response-header"])
class ResponseHeaderServlet: HttpServlet() {
    override fun service(request: HttpServletRequest?, response: HttpServletResponse?) {

        response?.run {
//            응답 코드가 302이고, Location 헤더에 리다이렉트 대상을 설정한다.
            status = HttpServletResponse.SC_FOUND
            setHeader("Location", "/basic/hello-form.html")
          
//          또는 아래와 같이 한 줄로 처리할 수도 있다! 
//          sendRedirect("/basic/hello-form.html")

            setHeader("Cache-Control", "no-cache, no-store, must-revalidate")
            setHeader("Pragma", "no-cache")
        }
    }
}
```

## 2024-04-23 Tue
### HTTP Servlet Response를 활용한 HTML 응답
* HTTP 서블릿 응답 역시, 크게 다음과 같은 세가지 분류로 나눠볼 수 있다.
  1. 단순 텍스트로 응답하기
  2. HTML을 응답하기
  3. JSON 형태 등의 응답 본문을 갖는 HTTP API로 응답하기
* 이 때, 단순 텍스트 응답의 경우 상술한 `writer.println("good")` 방식에 해당한다.
* 반면, HTML 응답의 경우 서블릿을 활용하여 다음과 같이 간단히 작성해볼 수 있다.
```kotlin
@WebServlet(name = "responseHtmlServlet", urlPatterns = ["/response-html"])
class ResponseHtmlServlet: HttpServlet() {
    override fun service(request: HttpServletRequest?, response: HttpServletResponse?) {
        if(response != null) {
            response.contentType = "text/html"
            response.characterEncoding = "utf-8"

            with(response.writer) {
                println("<html>")
                println("<body>")
                println("<div>나의 HTML!!!</div>")
                println("</body>")
                println("</html>")
            }
        }
    }
}
```