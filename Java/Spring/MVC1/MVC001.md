# Spring MVC I
## 2024-03-22 Fri
### 웹 서버와 웹 애플리케이션 서버
```
> 웹 서버는 정적 리소스를 제공하는 반면, 웹 애플리케이션 서버는 여기에 더해 애플리케이션을 실행할 수 있다.
```
* 웹은 기본적으로 HTTP 통신을 기반으로 하므로, 클라이언트로부터 서버로의 데이터 전송과 서버의 응답은 모두 HTTP를 사용한다.
    * 이 때, HTTP로 주고받을 수 있는 데이터에는 사실상 제한이 없으며 이미지나 영상은 물론 JSON 등의 데이터까지도 전송이 가능하다.
* 이 때, **웹 서버는 HTTP를 기반으로 동작하며 HTML 등 정적 리소스를 반환하는 nginx나 아파치 서버 등을 의미**한다.
    * 이러한 특징으로 인해 **웹 서버는 모든 경우에 반드시 필요한 것은 아니며, 단순히 API를 기반으로 데이터만 주고 받는 경우에는 WAS만 사용**할 수도 있다.
* 반면 **웹 애플리케이션 서버는 애플리케이션 로직을 수행하는 것을 의미하며, HTTP 기반으로 동작하면서 정적 리소스를 반환하는 웹 서버의 기능을 포함**한다.
    * 이 때, WAS에는 톰캣과 Jetty 등이 포함되며 내부적으로는 서블릿이나 JSP 또는 스프링 MVC를 실행할 수 있다.
* 이러한 차이로 인해 웹 서버는 접속한 사용자마다 다른 정보를 반환할 수 없으나, 웹 애플리케이션 서버는 사용자 별로 다른 화면을 제공하는 것이 가능하다.

## 2024-03-23 Sat
### 웹 서버와 웹 애플리케이션 서버를 '정확'하게 구분하기?
* 일반적으로 웹 서버가 정적 리소스를 처리하는 반면 WAS는 애플리케이션 로직을 다루는 것으로 알려져 있으나, 정확히는 둘 사이의 용어나 경계가 모호하다.
  * 예를 들어, 웹 서버도 애플리케이션을 실행하는 기능을 포함할 수 있는 반면 WAS도 웹 서버의 기능을 포함한다.
* 이러한 이유에서, **일반적인 Java 애플리케이션은 서블릿 컨테이너 기능을 제공하면 WAS로 취급**하기도 한다.
* 그럼에도 가장 쉬운 분류 방법은 웹 서버가 정적 리소스를 처리하고, WAS는 애플리케이션 코드까지 실행할 수 있다는 차이를 두는 것이다.

## 2024-03-24 Sun
### 각 요소를 조합한 웹 애플리케이션 구성하기
* WAS는 애플리케이션 로직을 수행할 수 있으면서도 정적 리소스를 제공할 수 있으므로, 실제로는 WAS와 DB만으로 웹 애플리케이션을 구성할 수 있다.
* 그러나 이러한 경우 **WAS가 너무 많은 역할을 담당하게 되므로, 정적 리소스 처리로 인해 중요한 애플리케이션 코드가 지연되는 등 과부하가 발생**하기 쉽다.
  * 최악의 경우 WAS애 장애가 발생하게 되면 정적 리소스의 일종인 오류 화면조차 표현이 불가능해질 수 있다.
* 규모가 작은 애플리케이션의 경우 상술한 방식만으로도 구축할 수 있으나, 일반적인 경우 WAS 앞에 웹 서버를 두어 정적 리소스에 대한 처리를 위임하게 된다.
  * 반면, 웹 서버는 애플리케이션 로직과 같은 동적인 처리가 필요한 경우에 WAS에 요청을 위임하게 된다.
* 이러한 방식을 사용할 경우, 가벼운 정적 리소스는 웹 서버가 처리하게 되므로 WAS는 중요한 애플리케이션 로직에만 집중할 수 있다.
  * 나아가 **요청된 리소스의 종류에 따라 웹 서버를 증설하거나 WAS를 증설하는 등, 효율적이고도 유연한 리소스 관리가 가능**하다.
  * 또한 **잘 다운되는 WAS와 달리 웹 서버는 잘 다운되지 않으므로, WAS나 DB 장애 발생시 웹 서버가 오류 화면을 제공**할 수도 있다.