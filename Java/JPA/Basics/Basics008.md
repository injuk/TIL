# Basics
## 2022-07-24 Sun

### JPA의 데이터 타입 분류
* JPA는 데이터 타입을 크게 다음과 같이 분류한다.
  1. 엔티티 타입
  2. 값 타입
* **엔티티 타입이란 @Entity 어노테이션을 명시하는 객체이며, 데이터가 변하더라도 식별자를 통해 추적이 가능**하다. 
  * 예를 들어, 회원 엔티티의 이름 또는 나이 데이터가 변경되더라도 id와 같은 식별자를 통해 엔티티를 식별할 수 있다.
  * 극단적으로는 엔티티가 포함하는 모든 데이터 필드가 수정되었더라도 식별자를 통해 엔티티를 추적할 수 있다.
* 반면, **값 타입이란 int나 Integer와 같이 단순한 값으로 사용하는 Java의 기본 타입 또는 객체를 의미**한다. 
  * 100 또는 200 등과 같은 값 타입은 식별자가 존재하지 않으므로, 데이터가 변경된 경우에 추적은 불가능하다.
  * int를 예로 들어 **100이라는 데이터를 200으로 수정한 경우, 값은 완전히 다른 값으로 대체되는 것으로 이해**할 수 있다.

### 값 타입의 분류
* 값 타입은 다시 다음과 같이 분류할 수 있다.
  1. 기본 값 타입: int나 double과 같은 Java의 기본 값 타입과 래퍼 클래스, String 등을 의미한다.
  2. 임베디드 타입: 복합 값 타입이라고 지칭할 수 있으며, 사용자 정의 값 타입을 의미한다.
  3. 컬렉션 값 타입: Java가 제공하는 컬렉션 API를 통해 기본 값 타입 또는 임베디드 타입을 관리할 수 있다. 

### 기본 값 타입이란?
* **기본 값 타입은 String 또는 int와 같은 Java의 기본 데이터 타입을 의미하며, 생명 주기를 엔티티에 의존**한다.
  * 예를 들어, 회원 엔티티를 제거하면 이에 종속된 이름, 나이 등의 필드 역시 함께 삭제된다.
* **값 타입은 공유되지 않아야 한다**.
  * 예를 들어, 회원 A에 대한 기본 값 타입의 수정이 다른 회원 엔티티의 속성에 영향을 주지 않아야 한다.
  * 즉, 값의 관리 과정에서 다른 엔티티에 영향을 주는 사이드 이펙트가 발생하지 않아야 한다.
* Java의 경우 언어 자체적으로 기본 타입은 절대로 공유되지 않는다는 특징이 있으므로, 기본 값 타입을 사용하는 것은 안전하다.
  * 이는 Java의 기본 값 타입이 항상 값을 복사하는 식으로 동작하기 떄문이다.
* 반면, **래퍼 클래스 또는 String과 같은 특수한 클래스는 공유가 가능한 객체이지만 값을 변경할 수는 없는 불변 객체의 특징**을 갖는다.
* 결론적으로 Java의 기본 값 타입과 래퍼 클래스, String은 엔티티 간에 영향을 주는 사이드 이펙트가 발생하지 않는다.