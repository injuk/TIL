# UnitTesting
## 2022-05-06 Fri

## 첫 번째 junit 테스트 작성하기
### 단위 테스트를 하는 이유?
```
> 단위 테스트를 한다는 것은, 어떤 단위의 코드를 테스트하기 위해 테스트 코드를 작성하는 것이다.
```
* 단위 테스트를 작성해야만하는 상황이나 이유는 다음과 같다.
  1. 어떠한 기능을 막 구현했으며, 예상한 대로 동작하는지 알고 싶은 경우
  2. 시스템에 작성한 변경 사항을 문서화하고, 자신과 다른 사람들이 나중에 이해하는 데에 도움을 줄 수 있도록 하고 싶은 경우
  3. 코드를 변경하고, 변경된 사항이 기존의 동작을 깨트리지 않는지 확인하고 싶은 경우
  4. 시스템의 현재 동작을 이해하고 싶은 경우
  5. 서드 파티 코드가 더 이상 기대한 대로 동작하지 않는 시점을 알고자 하는 경우
* 가장 중요한 것은, **좋은 단위 테스트는 운영 시스템 배포에 대한 자신감을 높여준다는 것**이다.
* **단위 테스트를 작성할 수 있게 되었다고 해도, 유지하기 힘들거나 가치 없는 테스트 코드들만 양산하게 될 수도 있으므로 항상 주의**해야 한다.

## junit 테스트를 조금 더 이해하기
* 많은 팀에서는 테스트 대상 클래스 이름에 Test를 붙인 테스트 클래스를 명명하는 표준 방법을 채택한다.
* junit은 @Test 어노테이션이 붙는 메소드를 테스트로 실행한다.
  * 테스트 클래스에는 테스트 메소드가 아닌 일반 메소드도 포함될 수 있으며, junit은 이를 알아서 제외한다.
  * junit은 테스트 메소드를 호출하면서 메소드 내부의 문장을 차례로 실행한다.

## 테스트의 준비와 실행, 그리고 단언
* **테스트 메소드의 이름은 테스트 메소드에서 테스트하는 시나리오를 정확하게 요약하는 것이 이상적**이다.
* 테스트에서 무엇인가를 테스트하려면, 다음의 절차를 따르는 것이 바람직하다.
  1. Arrange: 테스트의 상태를 설정하는 '준비' 단계의 작업을 수행한다.
  2. Act: 테스트를 준비한 후, 검증하려는 대상 코드인 테스트 메소드를 '실행'한다.
  3. Assert: 기대하는 결과를 '단언'한다.
* 테스트가 실제로는 아무것도 테스트하지 않는 것으로 의심되는 경우, 기대 결과를 변경하여 테스트할 수 있다.
* 실패하는 단언문은 junit 자체에서 잡는 런타임 예외를 통해 테스트를 멈춘다.
  * 때문에 실패하는 단언문 아래의 문장은 실행되지 않는다.
  * 상술한 이유에서 **테스트의 단언문은 일반적으로 테스트 메소드의 가장 마지막에 작성**된다.
* **테스트를 작성하는 경우, 항상 해당 테스트가 실패하는지 확인하는 것도 고려되어야 한다**.
  * 즉, 정상성을 증명하기 위해 의도적으로 테스트에 실패할 수 있어야 한다.