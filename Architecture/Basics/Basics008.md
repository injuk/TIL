# Architecture
## 2022-01-26 Wed

## 세부사항
### 데이터베이스
* 데이터베이스는 세부사항이며, 아키텍쳐의 구성 요소 수준으로 끌어올릴 수 없다.
* 데이터의 구조는 아키텍쳐에서 중요하지만, 데이터베이스는 데이터 구조가 아닌 데이터에 접근할 방법을 제공하는 유틸리티이다.
  * 유틸리티는 저수준의 세부사항에 불과하며, 아키텍쳐와는 관계가 없다.
  * 체계화된 데이터 구조와 데이터 모델은 아키텍쳐적으로 중요하다.
  * 그러나 데이터 자체를 물리적으로 옮길 뿐인 기술과 시스템은 아키텍쳐적으로 중요하지 않다.
* RDB의 경우, 데이터가 행 단위로 저장된다는 사실은 아키텍쳐적으로 중요하지 않다.
  * 유즈케이스는 이러한 방식을 알아서도, 관여해서도 안된다.
  * 오직 아키텍쳐의 외부 원에 위치한 최하위 수준의 유틸리티 함수만 이 사실을 알아야 한다.
* 아키텍쳐는 디스크 자체가 존재한다는 사실도 인식할 필요가 없다.
```
데이터는 중요하다.
데이터베이스는 세부사항이다.
```

### 웹
* GUI는 세부사항이며, 웹은 GUI이다. 따라서 웹은 세부사항이다.
* 세부사항은 핵심 업무 규칙으로부터 분리하여 경계의 바깥에 두어야 한다.

### 프레임워크
* 프레임워크 제작자는 특정한 문제를 해결하기 위해 프레임워크를 개발한다.
  * 우리가 직면한 문제를 해결하기 위해 프레임워크가 만들어지지는 않는다.
* 우리는 프레임워크에게 큰 헌신을 해야하지만, 프레임워크 제작자는 우리를 위해 어떠한 헌신도 하지 않는다.
* 프레임워크 제작자는 프레임워크 사용자가 프레임워크와 강력히 결합되어 분리되지 못하고, 사용자가 많아지는 일을 반긴다.
* 프레임워크의 아키텍쳐는 그다지 깔끔하지 않은 경우가 많고, 의존성 규칙을 위반하는 경향이 있다.
* 프레임워크는 애플리케이션의 초기 기능을 만드는 데에 도움이 되지만, 제품이 성숙해짐에 따라 프레임워크가 제공하는 기능과 틀을 벗어나게 된다.
* 프레임워크는 우리에게 도움되지 않는 방향으로 진화할 수 있다. 사용하지 않을 기능을 포함하는 신규 버전을 적용하느라 개발이 지연될 수 있다.
* 따라서 프레임워크를 사용하되, 결합되지 않도록 거리를 두어야 한다.
  * 프레임워크는 아키텍쳐의 바깥 원에 속하는 세부사항으로 취급되어야 한다.
  * 프레임워크가 핵심 코드 안에 들어오도록 하는 대신, 핵심 코드에 플러그인할 수 있는 컴포넌트에 프레임워크를 통합하고 의존성을 준수한다.
* 스프링을 예로 들어, @Autowired 어노테이션이 업무 객체에 존재해서는 안 된다.
  * 업무 객체는 절대 스프링에 대해 알아서는 안된다.
  * 업무 객체보다는 Main 컴포넌트에서 스프링을 사용하여 의존성을 주입하자.
    * Main은 아키텍쳐에서 가장 지저분한, 최저 수준의 컴포넌트이므로 스프링을 알아도 무방하다.
* C++의 STL이나 Java의 표준 라이브러리처럼 반드시 사용해야 하는 프레임워크가 존재할 수 있다.
  * 이러한 관계는 정상적이지만, 선택적이어야 한다.
  * 애플리케이션과 프레임워크 간의 강한 결합을 허용했다면, 애플리케이션의 생애 주기 동안 항상 프레임워크와 함께해야 한다는 사실을 명심해야 한다.